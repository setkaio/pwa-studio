<!DOCTYPE html>
<html lang="" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Project structure | Magento PWA Documentation</title>
	<meta name="description" content="Everything you need to build a Magento PWA.">

	<link rel="stylesheet" href="/pwa-studio/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/pwa-studio/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/pwa-studio/builds/css/main.css" />

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<script>
  var baseUrl = "/pwa-studio";
  var algolia = {
    id : "E642SEDTHL",
    index: "pwa-devdocs",
    key: "d2d0f33ab73e291ef8d88d8b565e754c"
  };

  var indices = [
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://pwastudio.io"
    },
    {
      label: "DevDocs",
      name: "devdocs",
      facets: [["guide_version: 2.3", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>



<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KRCLXBB');</script>
<!-- End Google Tag Manager -->




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" data-proofer-ignore href="/pwa-studio/">
      <img src="/pwa-studio/assets/i/m-logo.svg" alt="">
      <img src="/pwa-studio/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">PWA Docs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      

      <!-- Main Navigation -->
<ul class="nav-main" role="menubar">

  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span href="#" data-proofer-ignore tabindex="-1">Getting Started</span>
    <div class="nav-popup">
      <ul>
        
        <li role="menuitem">
          <a href="/pwa-studio/technologies/overview/">Overview</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/technologies/storefront-architecture/">Storefront architecture</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/technologies/basic-concepts/">Basic concepts</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/pwa-buildpack/">PWA Buildpack</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/peregrine/">Peregrine</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/venia-pwa-concept/">Venia storefront concept</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/technologies/upward/">UPWARD</a>
        </li> 
        
      </ul>
    </div>
  </li>

  

  
  <li class="menuitem current">
      <a href="/pwa-studio/tutorials/">Tutorials</a>
  </li>
  

  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span href="#" data-proofer-ignore tabindex="-1">Reference API</span>
    <div class="nav-popup">
      <ul>
        
        <li role="menuitem">
          <a href="/pwa-studio/pwa-buildpack/reference/buildpack-cli/">PWA Buildpack</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/peregrine/reference/item/">Peregrine API</a>
        </li> 
        
        <li role="menuitem">
          <a href="/pwa-studio/venia-ui/reference/components/Button/">Venia UI API</a>
        </li> 
        
      </ul>
    </div>
  </li>

  

  
  <li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span href="#" data-proofer-ignore tabindex="-1">Integrations</span>
    <div class="nav-popup">
      <ul>
        
        <li role="menuitem">
          <a href="/pwa-studio/pagebuilder/">Page Builder</a>
        </li> 
        
      </ul>
    </div>
  </li>

  

</ul>

    </div>

    <div class="nav-actions">
        
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=pwa-devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>


        <div class="search-btn">
          <button class="search-trigger search-icon" aria-label="Search"></button>
        </div>
    
        <form class="quick-search" action="/pwa-studio/search/" method="get" novalidate="novalidate">
          <input type="search" name="query" placeholder="Search" />
          <button class="quick-search-close" aria-label="Close search">&times;</button>
        </form>

    </div>

  </div>
</nav><!-- .site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		<div class="message-banner">
If you have any project questions, concerns, or contribution ideas, join our <a href="https://magentocommeng.slack.com/messages/C71HNKYS2"><strong>#pwa</strong></a> Slack channel.
Find out how to create an account by visiting <a href="https://devdocs.magento.com/community/resources/resources.html">Community Resources</a>
</div>


		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
    <button class="toc-toggler">Table of Contents</button>
    <div class="sidebar-wrapper">

      






<div class="menu-section">
    <div class="toc-entry"><h4 class="guide-title">Tutorials</h4></div>

    <ul class="table-of-contents">
    
        <li >
            
            <a href="/pwa-studio/tutorials/" class=" ">Overview</a>
            

            
        </li>
    
        <li >
            
            <a href="/pwa-studio/tutorials/cloud-deploy/" class=" ">Magento Cloud deployment</a>
            

            
        </li>
    
        <li >
            
            <span>Hello UPWARD</span>
            

            
            <ul>
            
                <li >
                    
                    <a href="/pwa-studio/tutorials/hello-upward/simple-server/" class=" ">Creating a simple server</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/tutorials/hello-upward/using-template-resolver/" class=" ">Using the TemplateResolver</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/tutorials/hello-upward/adding-react/" class=" ">Adding React</a>
                    
                </li>
            
            </ul>
            
        </li>
    
        <li >
            
            <a href="/pwa-studio/tutorials/create-taglist-component/" class=" ">Create a TagList component</a>
            

            
        </li>
    
        <li >
            
            <a href="/pwa-studio/tutorials/pwa-studio-fundamentals/" class=" parent">PWA Studio fundamentals</a>
            

            
            <ul>
            
                <li >
                    
                    <a href="/pwa-studio/tutorials/pwa-studio-fundamentals/project-setup/" class=" ">Project setup</a>
                    
                </li>
            
                <li class="active">
                    
                    <a href="/pwa-studio/tutorials/pwa-studio-fundamentals/project-structure/" class=" ">Project structure</a>
                    
                </li>
            
                <li >
                    
                    <a href="/pwa-studio/tutorials/pwa-studio-fundamentals/add-a-static-route/" class=" ">Add a static route</a>
                    
                </li>
            
            </ul>
            
        </li>
    
    </ul>
</div>



    </div>
</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	<h1 class="page-heading">Project structure</h1>
</section>

			<p>This topic covers the project structure created using the steps outlined in the <a href="/pwa-studio/tutorials/pwa-studio-fundamentals/">Project setup</a> tutorial.</p>

<h2 id="project-structure">Project Structure</h2>

<p>The  <code class="highlighter-rouge">@magento/create-pwa</code> scaffolding tool generates all the files and directories you need to run the Venia storefront.</p>

<h3 id="src-directory"><code class="highlighter-rouge">src</code> directory</h3>

<p>Your storefront’s client-side code is defined in the <code class="highlighter-rouge">src</code> directory.
This is where you add your own custom code for your storefront.</p>

<p>During the build process, Webpack scans this folder and creates bundles from these files.
These bundles are small chunks of your storefront that the server provides to the browser as needed.
Files outside the <code class="highlighter-rouge">src</code> and <code class="highlighter-rouge">node_modules</code> directory are never bundled and served to the browser.</p>

<p>After scaffolding a new project, the <code class="highlighter-rouge">src</code> directory looks like the following:</p>

<pre><code class="language-tree">src
├── ServiceWorker
├── __tests__
├── drivers.js
├── index.css
├── index.js
├── registerSW.js
└── store.js
</code></pre>

<h4 id="serviceworker-directory"><code class="highlighter-rouge">ServiceWorker</code> directory</h4>

<p>The ServiceWorker directory contains all the logic for providing <a href="https://developers.google.com/web/fundamentals/primers/service-workers">service worker features</a>.
Examples of service workers features include push notifications, background sync, and even offline mode for your storefront.</p>

<p>The service worker also gives you the ability to intercept and handle network requests.
This gives you better control over your site’s client-side caching logic.</p>

<h4 id="__tests__-directory"><code class="highlighter-rouge">__tests__</code> directory</h4>

<p>The <code class="highlighter-rouge">__tests__</code> directory is a suggested directory for your project’s test files.
Most JavaScript test frameworks find test files using a file path pattern, which by default is usually all <code class="highlighter-rouge">__tests__</code> directories.
This directory comes from the Venia concept project template, which uses <a href="https://jestjs.io/">Jest</a> for testing.
Jest recommends that developers make multiple <code class="highlighter-rouge">__tests__</code> directories nearby the components they are testing.</p>

<p>You can delete this directory if you do not need it or if your chosen testing framework requires a different setup.</p>

<h4 id="driversjs"><code class="highlighter-rouge">drivers.js</code></h4>

<p>The <code class="highlighter-rouge">drivers.js</code> file is a centralized module that provides non-PWA-Studio dependencies, such as GraphQL clients, React-router components, Redux components, etc.
Centralizing these modules into a virtual dependency makes it easy to switch out or override these components</p>

<p>Access these dependencies through the virtual <code class="highlighter-rouge">@magento/venia-drivers</code> dependency:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Link</span><span class="p">,</span> <span class="nx">resourceUrl</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@magento/venia-drivers</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>

<p>Edit the entry in the <code class="highlighter-rouge">browser</code> section of the <code class="highlighter-rouge">package.json</code> file if you want to change the name.</p>

<p>For more information about Venia’s drivers and adapters pattern, see: <a href="/pwa-studio/venia-pwa-concept/features/modular-components/">Modular components</a></p>

<h4 id="indexcss"><code class="highlighter-rouge">index.css</code></h4>

<p>The <code class="highlighter-rouge">index.css</code> file contains the global styles that apply to all HTML tags.
It also contains the CSS variables used throughout the project.</p>

<p class="bs-callout bs-callout-warning">Avoid defining component specific styles in this file.
Those should be defined in their component’s respective CSS module.</p>

<h4 id="indexjs"><code class="highlighter-rouge">index.js</code></h4>

<p>The <code class="highlighter-rouge">index.js</code> file is the entry point for your application.
It imports the Venia application as a single component and renders it in the DOM.
It also wraps it up inside components that provide the drivers and application context.</p>

<h4 id="registerswjs"><code class="highlighter-rouge">registerSW.js</code></h4>

<p>This file registers the service worker when the user accesses the storefront.
The contents of this file is standard, boilerplate code and does not need modifications.</p>

<h4 id="storejs"><code class="highlighter-rouge">store.js</code></h4>

<p>The <code class="highlighter-rouge">store.js</code> file connects the Peregrine global store with your project’s UI components.
Here, you can add your custom reducers and enhancers to Peregrine’s global store.</p>

<p>For more information about state management, see: <a href="/pwa-studio/technologies/basic-concepts/state-management/">State management</a></p>

<h3 id="important-files-outside-src">Important files outside <code class="highlighter-rouge">src</code></h3>

<h4 id="webpackconfigjs"><code class="highlighter-rouge">webpack.config.js</code></h4>

<p>The <code class="highlighter-rouge">webpack.config.js</code> is a Webpack configuration file.
It uses <a href="/pwa-studio/pwa-buildpack/reference/configure-webpack/"><code class="highlighter-rouge">configureWebpack</code></a> from PWA Studio’s buildpack to create a configuration object for Webpack.</p>

<h4 id="upwardyml"><code class="highlighter-rouge">upward.yml</code></h4>

<p>The <code class="highlighter-rouge">upward.yml</code> file is an <a href="/pwa-studio/technologies/upward/">UPWARD</a> configuration file.
It provides provides instructions for how an UPWARD server implementation should respond to a request.</p>

<p>The <code class="highlighter-rouge">status</code>, <code class="highlighter-rouge">headers</code>, and <code class="highlighter-rouge">body</code> values defined in the default <code class="highlighter-rouge">upward.yml</code> file uses values from the <code class="highlighter-rouge">veniaResponse</code> object.
This object is defined in the <a href="https://github.com/magento/pwa-studio/blob/develop/packages/venia-ui/upward.yml">venia-ui package’s <code class="highlighter-rouge">upward.yml</code> file</a>.</p>

<p>Edit this file if you want to change how your project’s UPWARD server responds to requests.</p>

<h4 id="templatehtml"><code class="highlighter-rouge">template.html</code></h4>

<p>The <code class="highlighter-rouge">template.html</code> file contains the template for the server-side rendered HTML code for your storefront’s application shell.</p>

<p>During the build process, the <a href="https://webpack.js.org/plugins/html-webpack-plugin/">HtmlWebpackPlugin</a> injects this file with dynamic data, such as project variables and imports for Webpack-generated Javascript bundles.
The script saves this new file as <code class="highlighter-rouge">dist/index.html</code>.
When a browser creates the initial request for your storefront application, the default <code class="highlighter-rouge">upward.yml</code> configuration tells the UPWARD server to respond with this index file.</p>

<p>As the JavaScript bundles load in the browser, the React components hydrate the different visual elements on the page with separate network requests.</p>

<h4 id="serverjs"><code class="highlighter-rouge">server.js</code></h4>

<p>The <code class="highlighter-rouge">server.js</code> file is the script that starts the production or development server.
The script loads the <code class="highlighter-rouge">NODE_ENV</code> variable from the environment or your project’s <code class="highlighter-rouge">.env</code> file to determine which type of server to start.</p>

<p>Use the following values for <code class="highlighter-rouge">NODE_ENV</code>:</p>

<ul>
  <li><code class="highlighter-rouge">production</code> - start a production server</li>
  <li><code class="highlighter-rouge">test</code> - start a staging server that uses staging server environment configurations</li>
  <li><code class="highlighter-rouge">development</code> - start a development server that uses the development server environment configurations</li>
</ul>

<p>For more information on loading environment variables, see: <a href="/pwa-studio/pwa-buildpack/reference/buildpack-cli/load-env/#programmatic-api">Load environment file</a></p>


			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

  
  <div class="github-link">
    <a class="improve-page" href="https://github.com/magento/pwa-studio/tree/develop/pwa-devdocs/src/tutorials/pwa-studio-fundamentals/project-structure/index.md" target="_blank">
      Edit this page on GitHub
    </a>
  </div>
  

  
  <div class="new-issue">
    <a href="https://github.com/magento/pwa-studio/issues/new?title=Feedback on page: /tutorials/pwa-studio-fundamentals/project-structure/" target="_blank">
      Give us feedback
    </a>
  </div>
  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      <ul class="nav footer-links">
    <li><a href="http://magento.com/legal/terms/privacy/">Privacy Policy</a></li>
    <li><a href="http://magento.com/legal/terms/">Terms of Service</a></li>
    <li><a href="http://magento.com/legal/licensing/">License/Trademark FAQ</a></li>
    <li><a href="https://magentocommeng.slack.com/messages/C71HNKYS2">#pwa Slack channel</a></li>
  </ul>
    </div>

		<div class="copyright-date">&copy; 2020 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/pwa-studio/assets/js/app.min.js?ver=7"></script>

<script src="/pwa-studio/builds/js/index.bundle.js"></script>

</body>
</html>

